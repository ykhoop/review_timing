<header>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

    <%= link_to root_path, class: 'ms-3 navbar-brand' do %>
      <span class="service-main-color fw-bold fst-italic"><%= t('defaults.app_name') %></span>
    <% end %>

    <button class="me-3 navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ms-auto me-3 align-items-start">

        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <%= t('defaults.menu') %>
          </a>

          <div class="dropdown-menu dropdown-menu-lg-end">
            <%= link_to t('subjects.index.title'), subjects_path, class: 'dropdown-item' %>
            <%= link_to t('subjects.new.title'), new_subject_path, class: 'dropdown-item' %>
            <%= link_to t('review_schedule.schedule.title'), review_schedule_users_path(Time.zone.today.strftime('%Y%m')), class: 'dropdown-item' %>
          </div>
        </li>

        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="header-profile">
            <%= "#{current_user.first_name} #{current_user.last_name}" %>
          </a>
          <div class="dropdown-menu dropdown-menu-lg-end">
            <%= link_to 'プロフィール', '#', class: 'dropdown-item' %>
            <%= link_to t('defaults.setting'), user_setting_users_path, class: 'dropdown-item' %>
            <% if (!current_user.has_line?) %>
              <%= link_to t('defaults.line_linking'), oauth_at_provider_users_path(provider: :line), class: 'dropdown-item' %>
            <% else %>
              <%= link_to t('defaults.line_unlinking'), oauth_at_provider_users_path(provider: :line), class: 'dropdown-item', data: { turbo_method: :delete, turbo_confirm: t('defaults.message.confirm_line_unlinking') } %>
            <% end %>
            <%= link_to t('defaults.logout'), logout_path, class: 'dropdown-item', data: { turbo_method: :delete, turbo_confirm: t('defaults.message.confirm_logout') } %>
          </div>
        </li>

      </ul>
    </div>
  </nav>
</header>